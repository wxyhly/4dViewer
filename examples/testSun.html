<canvas id="mycanvas" width="1000" height="300"></canvas>
<script src="../math.js"></script>
<script src="../shape.js"></script>
<script src="../webgl.js"></script>
<script src="../render.js"></script>
<script src="../examples/sun.js"></script>

<script src="../examples/controler.js"></script>
<script>
laTerre = new Planet4();
	laTerre.location = {
		WE: 60, //latitude parallel to south
		MG: 120, //latitude parallel to north
		NS: 30 //longitude
	}
	laTerre.sun = {
		northernTropic: 12,
		southernTropic: 55,
		WEPeriod: 365.4, //southern days in one year
		MGPeriod: 123 //northern days in one year
	}
	laTerre.initialTime = {
		northernTime: 6,  //12h00
		southernTime: 6, //9h30
		season: 100 //sun orbit angle
	}
$ = function (obj){
	return document.getElementById(obj);
}
ctxt$ = function (obj){
	return $(obj).getContext("2d");
}
var centerY = 150;
var scaleY = 100;
Sun = null;
earth = null;
sp = null;
CurveData = [];
CosMode = true;
function clearCanvas(){
	var ctxt = ctxt$("mycanvas");
	ctxt.clearRect(0,0,1000,600);
	ctxt.strokeStyle = "#000000";
	ctxt.lineWidth = 1;
	ctxt.beginPath();
	ctxt.moveTo(0,centerY);
	ctxt.lineTo(1000,centerY);
	ctxt.moveTo(0,centerY-scaleY);
	ctxt.lineTo(1000,centerY-scaleY);
	ctxt.moveTo(0,centerY+scaleY);
	ctxt.lineTo(1000,centerY+scaleY);
	ctxt.stroke();
	
	ctxt.strokeStyle = "#AAAAAA";
	ctxt.lineWidth = 0.5;
	ctxt.beginPath();
	ctxt.moveTo(0,centerY-scaleY/2);
	ctxt.lineTo(1000,centerY-scaleY/2);
	ctxt.moveTo(0,centerY+scaleY/2);
	ctxt.lineTo(1000,centerY+scaleY/2);
	ctxt.stroke();
	
	ctxt.fillStyle="#000";
	ctxt.fillText("+90°",0,centerY-scaleY);
	ctxt.fillText(" 0°",0,centerY);
	ctxt.fillText(CosMode?"+30°":"+45°",0,centerY-scaleY/2);
	ctxt.fillText("-90°",0,centerY+scaleY);
	ctxt.fillText(CosMode?"-30°":"-45°",0,centerY+scaleY/2);
}
clearCanvas();
function hkm(step){
	var ctxt = ctxt$("mycanvas");
	ctxt.beginPath();
	ctxt.strokeStyle = "#00F";
	ctxt.lineWidth = 2;
	ctxt.moveTo(0,centerY);
	var u;// = [];
	var temp = [15];
	var baack = 50000;
	for(var i = -0; i < 5000; i++){laTerre.setTime(i*step+0.1);
		var hh = laTerre.getSunPosition().y;
		if(!CosMode){
			hh = Math.asin(hh)/Math.PI*2;
		}
		var h = -hh*scaleY + centerY;
		ctxt.lineTo(i,h);
		u = (hh>0?hh:0);
		temp[i+1+baack] = temp[i+baack] + u - (temp[i+baack]+90)*0.005 +0.005;
	}
	ctxt.stroke();
}
hkm(0.0005);
		</script>