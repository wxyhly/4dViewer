 <html>
<script src="../math.js"></script>
<script src="../shape.js"></script>
<script src="../webgl.js"></script>
<script src="../render.js"></script>
<script src="controler.js"></script>
<script src="dat.gui.min.js"></script>
<script>
'use strict';
var gl$ = function (obj){
	return document.getElementById(obj).getContext("experimental-webgl");
}
var loop$ = function (call){
	window.requestAnimationFrame(call);
}
function start(){
	var scene = new Scene();
	var r = 2;
	scene.add(new Geom4(Mesh4.tesseract(2*r),null,null,0xFFFFFF));
	var cyl = Mesh4.spherinder(1,16,16,0.001);
	scene.add(new Geom4(cyl,new Vec4(0,0,0,r),false,0xFF0000));
	scene.add(new Geom4(cyl,new Vec4(0,0,0,-r),false,0xFFAA00));
	scene.add(new Geom4(cyl,new Vec4(0,0,r,0),false,0xFFFF00).lookAt(new Vec4(0,0,1,0)));
	scene.add(new Geom4(cyl,new Vec4(0,0,-r,0),false,0x00FFFF).lookAt(new Vec4(0,0,1,0)));
	scene.add(new Geom4(cyl,new Vec4(0,r,0,0),false,0x0000FF).lookAt(new Vec4(0,1,0,0)));
	scene.add(new Geom4(cyl,new Vec4(0,-r,0,0),false,0x00FF00).lookAt(new Vec4(0,1,0,0)));
	scene.add(new Geom4(cyl,new Vec4(r,0,0,0),false,0xFF00FF).lookAt(new Vec4(1,0,0,0)));
	scene.add(new Geom4(cyl,new Vec4(-r,0,0,0),false,0xAAFF00).lookAt(new Vec4(1,0,0,0)));
	
	var camera = new Camera4(120,0.01,30);
	camera.position = new Vec4(0,0,0,-1.9);
	var renderer = new Renderer4(gl$("glCanvas1"),gl$("glCanvas2"),scene,camera,new Vec4(1.4,1,2.2,1.7));
	var controler = new Controler4.Trackball(renderer);
	var gui = new dat.GUI();
	controler.addGUI(gui);
	function loop(){
		controler.update(renderer.render.bind(renderer));
		loop$(loop);
	}
	loop();
}
</script>
<body onload="start()">
<canvas id="glCanvas1" width="800" height="800" style="background-color:#000"></canvas>
<canvas id="glCanvas2" width="800" height="800" style="background-color:#000"></canvas>
<!--bug: bgColor must be 000 because of alpha transparency-->
</body>
</html>